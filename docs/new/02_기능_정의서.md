# 🎯 읽쓰 문해력 학습 플랫폼 - 기능 정의서 (FRD)

**Functional Requirements Document**  
**문서 버전:** v1.0  
**작성일:** 2025-10-23  
**원본 기획서:** icks_literacy_plan_20251020.pdf  

---

## 📋 목차
1. [문서 개요](#1-문서-개요)
2. [사용자 관리](#2-사용자-관리)
3. [라이선스 관리](#3-라이선스-관리)
4. [강좌 학습 시스템](#4-강좌-학습-시스템)
5. [종합 어휘장](#5-종합-어휘장)
6. [서술 요약](#6-서술-요약)
7. [퀘스트 시스템](#7-퀘스트-시스템)
8. [알림 시스템](#8-알림-시스템)
9. [결과 및 통계](#9-결과-및-통계)
10. [관리자 기능](#10-관리자-기능)

---

## 1. 문서 개요

### 1.1 문서 목적
읽쓰 문해력 학습 플랫폼의 모든 기능을 상세히 정의하여 개발 가이드로 활용

### 1.2 시스템 주요 기능
```
├── 사용자 관리
├── 라이선스 관리
├── 강좌 학습 시스템
├── 종합 어휘장
├── 서술 요약
├── 퀘스트 시스템
├── 알림 시스템
├── 결과 및 통계
└── 관리자 기능
```

---

## 2. 사용자 관리

### 2.1 회원 가입 및 로그인

#### FR-USER-001: 회원 가입
**기능 설명**: 학생 및 관리자 회원 가입  
**우선순위**: High  

**입력 데이터**:
- 이름 (필수)
- 학년 정보 (선택)
- 사용자 유형 (student/admin)
- 프로필 이미지 (선택)

**처리 로직**:
1. 입력 데이터 유효성 검증
2. UUID 기반 user_id 생성
3. user 테이블에 저장
4. 회원 가입 완료

**출력 데이터**:
- 회원 가입 성공 메시지
- user_id

**예외 처리**:
- 중복 계정 검증 (필요 시)
- 입력 데이터 형식 오류

---

#### FR-USER-002: 로그인
**기능 설명**: 학생 로그인 및 세션 생성  
**우선순위**: High  

**입력 데이터**:
- 로그인 정보 (ID/PW 또는 소셜 로그인)

**처리 로직**:
1. 인증 정보 검증
2. 세션 생성
3. 메인 화면으로 이동

**출력 데이터**:
- 로그인 성공
- 세션 ID

---

#### FR-USER-003: 로그아웃
**기능 설명**: 사용자 로그아웃  
**우선순위**: Medium  

**처리 로직**:
1. 현재 세션 종료
2. 로그인 페이지로 이동

---

### 2.2 프로필 관리

#### FR-USER-004: 프로필 조회
**기능 설명**: 사용자 프로필 정보 표시  
**우선순위**: Medium  

**출력 데이터**:
- 프로필 이미지
- 학생 이름
- 학년 정보

---

#### FR-USER-005: 프로필 수정
**기능 설명**: 프로필 정보 수정  
**우선순위**: Low  

**입력 데이터**:
- 이름 (선택)
- 학년 정보 (선택)
- 프로필 이미지 (선택)

**처리 로직**:
1. 수정 데이터 유효성 검증
2. user 테이블 업데이트
3. updated_at 자동 갱신

---

## 3. 라이선스 관리

### 3.1 라이선스 부여

#### FR-LIC-001: 라이선스 생성
**기능 설명**: 학생에게 권(교재) 라이선스 부여  
**우선순위**: High  
**권한**: 관리자

**입력 데이터**:
- user_id
- volume_id (권 번호)
- granted_at (부여 일시)

**처리 로직**:
1. license_id (UUID) 생성
2. expire_date 계산 (부여 시점 + 6개월)
3. status = 'active' 설정
4. license 테이블에 저장
5. volume_progress_cache 초기화

**출력 데이터**:
- 라이선스 생성 완료
- license_id

**비즈니스 규칙**:
- 동일 권 중복 부여 가능 → 별도 학습관 생성
- 사용 기한: 부여 시점 기준 6개월

---

#### FR-LIC-002: 라이선스 조회
**기능 설명**: 사용자의 라이선스 목록 조회  
**우선순위**: High  

**입력 데이터**:
- user_id
- status (선택: active/completed/expired)

**처리 로직**:
1. user_id로 license 테이블 조회
2. status별 필터링
3. 정렬: 사용 중 → 완료 → 만료, 권 번호 내림차순

**출력 데이터**:
```json
[
  {
    "license_id": "uuid",
    "volume_number": 1,
    "volume_title": "1권",
    "status": "active",
    "granted_at": "2025-04-23",
    "expire_date": "2025-10-23",
    "progress_rate": 45.5
  }
]
```

---

#### FR-LIC-003: 라이선스 상태 자동 업데이트
**기능 설명**: 라이선스 상태 자동 변경  
**우선순위**: High  
**트리거**: 매일 자동 실행 또는 조회 시

**처리 로직**:
1. 현재 일시 기준 만료 확인
   - expire_date < 현재 일시 → status = 'expired'
2. 권 내 모든 강 성공 확인
   - 모든 강 성공 → status = 'completed'

**비즈니스 규칙**:
- completed 상태는 만료 후에도 유지
- expired 상태에서는 학습 불가, 결과지만 조회 가능

---

### 3.2 라이선스 알림

#### FR-LIC-004: 사용 기한 알림
**기능 설명**: 라이선스 만료 7일 전 알림  
**우선순위**: Medium  
**트리거**: 매일 자동 실행

**처리 로직**:
1. 현재 일시 기준 만료 7일 이내 라이선스 조회
   - status = 'active'
   - expire_date - 현재 일시 <= 7일
2. 각 라이선스별 알림 생성
   - notification 테이블에 저장
   - type = 'license_expire'
   - content = "n권 사용기한이 7일 남았습니다."

**출력 데이터**:
- 알림 생성 완료

---

## 4. 강좌 학습 시스템

### 4.1 강좌 진행 관리

#### FR-LESSON-001: 권 메인 화면 조회
**기능 설명**: 권별 강좌 목록 및 진행 상태 표시  
**우선순위**: High  

**입력 데이터**:
- user_id
- license_id

**처리 로직**:
1. license 정보 조회
2. 해당 권의 모든 강좌 조회
3. 각 강좌별 진행 상태 계산
   - 성공한 강: 최근 3개 차시 표시
   - 진행 중인 강: 위치 핀 표시
   - 미완료 강: pass 표시
   - 미진행 강: 기본 표시
4. 진행률 계산
   - (완료 강좌 수 / 전체 강좌 수) × 100

**출력 데이터**:
```json
{
  "volume_info": {
    "volume_number": 1,
    "title": "1권",
    "progress_rate": 45.5,
    "remaining_lessons": 6
  },
  "lessons": [
    {
      "lesson_id": "uuid",
      "lesson_number": 1,
      "title": "강 제목",
      "status": "completed",
      "recent_attempts": [
        {"attempt_number": 1, "result": "fail"},
        {"attempt_number": 2, "result": "fail"},
        {"attempt_number": 3, "result": "success"}
      ]
    }
  ]
}
```

---

#### FR-LESSON-002: 강좌 진입 가능 여부 확인
**기능 설명**: 강좌 진입 전 조건 확인  
**우선순위**: High  

**입력 데이터**:
- user_id
- lesson_id

**처리 로직**:
1. 해당 강이 진행 가능한지 확인
   - 1강부터 순차 진행 원칙
   - 이전 강이 성공 또는 자동 패스 상태인지 확인
2. 라이선스 유효성 확인
   - status = 'active' 또는 'completed'
   - 만료된 경우 진입 불가

**출력 데이터**:
- 진입 가능: true/false
- 불가 사유 (순차 진행 위반, 라이선스 만료 등)

**비즈니스 규칙**:
- 현재 강 성공 시 다음 강 진입 가능
- 자동 패스된 강도 클릭하여 재진행 가능

---

#### FR-LESSON-003: 차시 생성
**기능 설명**: 새로운 차시(Attempt) 시작  
**우선순위**: High  

**입력 데이터**:
- user_id
- lesson_id
- license_id

**처리 로직**:
1. 해당 강의 기존 차시 개수 조회
2. attempt_number = 기존 개수 + 1
3. lesson_attempt 레코드 생성
   - attempt_id (UUID)
   - result = 'in_progress'
   - started_at = 현재 일시
4. activity_log 생성

**출력 데이터**:
- attempt_id
- attempt_number

---

#### FR-LESSON-004: 자동 패스 처리
**기능 설명**: 동일 강 3차시 연속 실패 시 자동 패스  
**우선순위**: High  
**트리거**: 차시 실패 시

**입력 데이터**:
- user_id
- lesson_id

**처리 로직**:
1. 해당 강의 최근 3개 차시 조회
2. 모두 result = 'fail'인지 확인
3. 자동 패스 조건 충족 시
   - 강좌에 'pass' 마킹
   - 다음 강 진입 가능하도록 설정

**출력 데이터**:
- 자동 패스 여부: true/false

**비즈니스 규칙**:
- 패스된 강 클릭 시 재진행 가능
- 패스 상태는 성공 시 해제

---

### 4.2 학습 구간 관리

#### FR-LESSON-005: 제목읽기 구간
**기능 설명**: 강좌 제목 및 이미지 표시  
**우선순위**: High  

**입력 데이터**:
- attempt_id

**처리 로직**:
1. lesson 정보 조회 (제목, 이미지)
2. started_at 기록 (차시 시작 시간)
3. 소요 시간 측정 시작

**출력 데이터**:
- 강 정보 (권, 강, 차시, 제목)
- 이미지
- 안내 문구

**측정 데이터**:
- 소요 시간: 구간 진입 ~ [다음] 버튼 클릭

---

#### FR-LESSON-006: 어휘확인 구간
**기능 설명**: 강좌 어휘 카드 표시  
**우선순위**: High  

**입력 데이터**:
- lesson_id

**처리 로직**:
1. vocabulary 테이블에서 해당 강의 어휘 조회
   - ORDER BY display_order
2. 어휘 카드 순차 표시 (어휘 + 뜻)
3. 모든 어휘 확인 후 [다음] 버튼 활성화

**출력 데이터**:
- 어휘 카드 목록
- 진행 현황 (현재/전체)

**측정 데이터**:
- 소요 시간: 구간 진입 ~ 마지막 어휘 확인 후 [다음] 클릭

---

#### FR-LESSON-007: 지문읽기 구간 (A단계)
**기능 설명**: 지문 읽기 및 시간 측정 (A단계)  
**우선순위**: High  

**입력 데이터**:
- lesson_id
- stage = 'A'

**처리 로직**:
1. [시작] 버튼 클릭 시 타이머 시작
2. 지문 페이지 표시 (좌우 2페이지)
3. 목표 시간 3분 표시 (초과 가능)
4. [완료] 버튼 클릭 시 시간 측정 종료
5. section_result 생성
   - section_type = 'passage_reading'
   - elapsed_time (초)
   - reading_speed (분당 글자 수)
   - traffic_light (학생 평소 기준 or 학년별 목표 시간 기준)

**출력 데이터**:
- 소요 시간
- 목표 시간 초과 여부

**측정 데이터**:
- elapsed_time = [시작] ~ [완료] 버튼 클릭
- reading_speed = (지문 글자 수 / elapsed_time) × 60

**비즈니스 규칙**:
- A단계는 목표 시간 초과해도 진행 가능
- 제한 시간 없음

---

#### FR-LESSON-008: 지문읽기 구간 (B/C단계)
**기능 설명**: 지문 읽기 및 시간 측정 (B/C단계)  
**우선순위**: High  

**입력 데이터**:
- lesson_id
- stage = 'B' or 'C'

**처리 로직**:
1. [시작] 버튼 클릭 시 타이머 시작
2. 지문 페이지 표시
3. 제한 시간 3분 표시
4. 제한 시간 초과 시
   - 자동 종료 + 소리 알림
   - 읽은 글자 수 입력 필요
   - → 다시읽기 구간 진행
5. 제한 시간 내 [완료] 시 다음 구간

**출력 데이터**:
- 소요 시간
- 제한 시간 초과 여부

**탈락 조건** (B/C):
- 제한 시간 3분 초과

**측정 데이터**:
- elapsed_time
- reading_speed (초과 시 입력 글자 수 기반)

---

#### FR-LESSON-009: 문제확인 구간 (A단계)
**기능 설명**: 문제 미리보기 및 모르는 문제 표시 (A단계)  
**우선순위**: High  

**입력 데이터**:
- attempt_id
- stage = 'A'

**처리 로직**:
1. 출제 문항 표시 (지문 + 보기)
   - 보기 클릭 불가 (비활성화)
   - 문제 지문 클릭 시 핵심어 표시 가능
2. 문항 번호 클릭 시 모르는 문제로 카운트
3. 모든 문제 확인 후 [다음] 클릭
4. 모르는 문제 유무에 따라 분기
   - 모르는 문제 있음 → 다시읽기 진행
   - 모르는 문제 없음 → 소요 시간 표시 후 다시읽기

**출력 데이터**:
- 문제 목록
- 모르는 문제 개수

**측정 데이터**:
- elapsed_time = [시작] ~ [다음] 클릭
- unknown_question_count

**비즈니스 규칙**:
- A단계는 다시읽기 필수 진행
- 모르는 문제 없어도 다시읽기 진행

---

#### FR-LESSON-010: 문제확인 구간 (B/C단계)
**기능 설명**: 문제 미리보기 및 모르는 문제 표시 (B/C단계)  
**우선순위**: High  

**입력 데이터**:
- attempt_id
- stage = 'B' or 'C'

**처리 로직**:
1. 문제 확인 (FR-LESSON-009와 동일)
2. 모르는 문제 개수에 따라 분기
   - B단계: 2개 이상 → 다시읽기 진행
   - C단계: 1개 이상 → 다시읽기 진행
   - 통과 기준 이하 → 소요 시간 표시 후 문제풀이

**탈락 조건**:
- B단계 (1차): 모르는 문제 2개 이상 → 다시읽기
- C단계 (1차): 모르는 문제 1개 이상 → 다시읽기

---

#### FR-LESSON-011: 다시읽기 구간 (A단계)
**기능 설명**: 지문 재독 및 시간 측정 (A단계 - 필수)  
**우선순위**: High  

**입력 데이터**:
- lesson_id
- stage = 'A'

**처리 로직**:
1. [시작] 버튼 클릭 시 타이머 시작
2. 제한 시간 2분 40초 표시
3. 제한 시간 초과 시
   - 자동 종료 + 소리 알림
   - 읽은 글자 수 입력
   - → 차시 실패
4. 제한 시간 내 [완료] 시
   - 문제확인2 진행

**탈락 조건**:
- 제한 시간 2분 40초 초과 → 차시 실패

**측정 데이터**:
- elapsed_time
- reading_speed

---

#### FR-LESSON-012: 다시읽기 구간 (B/C단계)
**기능 설명**: 지문 재독 및 시간 측정 (B/C단계 - 조건부)  
**우선순위**: High  

**입력 데이터**:
- lesson_id
- stage = 'B' or 'C'
- retry_reason (지문읽기/문제확인/문제풀이)

**처리 로직**:
1. 탈락 문제 안내 화면 표시
2. [시작] 버튼 클릭 시 타이머 시작
3. 제한 시간 표시
   - B단계: 2분 50초
   - C단계: 3분
4. 제한 시간 초과 시 → 차시 실패
5. 제한 시간 내 [완료] 시 → 문제확인 또는 문제풀이

**탈락 조건**:
- B단계: 2분 50초 초과
- C단계: 3분 초과

---

#### FR-LESSON-013: 문제확인2 구간 (A단계)
**기능 설명**: 다시읽기 후 모르는 문제 재확인 (A단계)  
**우선순위**: High  

**입력 데이터**:
- attempt_id
- stage = 'A'

**처리 로직**:
1. 문제확인1에서 모르는 문제로 표시한 문제만 표시
2. 모르는 문제 재선택 (별 아이콘 활성화/해제)
3. [다음] 클릭 시 모르는 문제 개수 확인
   - 2개 이상 → 차시 실패
   - 1개 이하 → 문제풀이 진행

**탈락 조건**:
- 모르는 문제 2개 이상 → 차시 실패

**측정 데이터**:
- 문제확인1 + 모르는문제1 + 다시읽기 + 문제확인2 합산 시간

---

#### FR-LESSON-014: 문제확인 재시도 (B/C단계)
**기능 설명**: 다시읽기 후 모르는 문제 재확인 (B/C단계)  
**우선순위**: High  

**입력 데이터**:
- attempt_id
- stage = 'B' or 'C'

**처리 로직**:
1. 문제확인 재진행
2. 모르는 문제 개수 확인
   - B단계: 1개 이상 → 차시 실패
   - C단계: 1개 이상 → 차시 실패
   - 통과 → 문제풀이

**탈락 조건**:
- B/C 단계: 모르는 문제 1개 이상 → 차시 실패

---

#### FR-LESSON-015: 문제풀이 구간
**기능 설명**: 실제 문제 풀이 및 채점  
**우선순위**: High  

**입력 데이터**:
- attempt_id
- stage

**처리 로직**:
1. 출제 문항 표시 (6지 선다형)
   - 문제확인에서 표시한 핵심어 표시
   - 모르는 문제로 선택한 문항에 별 아이콘
2. 보기 선택 또는 "모르겠어요" 선택
   - "모르겠어요"도 오답으로 카운트
3. 모든 문제 풀이 후 채점
4. 탈락 조건 확인
   - A단계: 오답+모름 2개 이상 → 실패
   - B단계 (1차): 오답+모름 2개 이상 (비판 제외) → 다시읽기
   - B단계 (2차): 오답+모름 1개 이상 (비판 제외) → 실패
   - C단계 (1차): 오답+모름 1개 이상 (비판 제외) → 다시읽기
   - C단계 (2차): 오답+모름 1개 이상 (비판 제외) → 실패
5. 통과 시 정보처리 진행

**탈락 조건**:
- 단계별 오답 개수 초과
- **비판 문항은 탈락 조건에서 제외**

**측정 데이터**:
- elapsed_time
- correct_count
- wrong_count
- unknown_answer_count
- comprehension_score = (정답 개수 / 출제 개수) × 100

**비즈니스 규칙**:
- 비판 문항 제외 로직 적용
- B/C 단계는 1차 실패 시 다시읽기 후 재시도

---

#### FR-LESSON-016: 정보처리 구간
**기능 설명**: 지문과 문제 매칭  
**우선순위**: Medium  

**입력 데이터**:
- attempt_id

**처리 로직**:
1. [시작] 버튼 클릭 시 타이머 시작
2. 좌측: 강좌 지문, 우측: 문제풀이 결과 표시
3. 지문에서 문장 클릭 → 문항 번호 선택
   - 동일 번호로 여러 문장 선택 가능
4. [모범 답안 확인] 클릭 시
   - 모범 답안 노란색 하이라이트
   - 학생 선택 문장 밑줄 표시
   - 타이머 종료

**측정 데이터**:
- elapsed_time = [시작] ~ [모범 답안 확인]

**비즈니스 규칙**:
- 제한 시간 없음
- 탈락 조건 없음

---

#### FR-LESSON-017: 줄거리순서 구간
**기능 설명**: 줄거리 순서 맞추기 (2회 기회)  
**우선순위**: Medium  

**입력 데이터**:
- lesson_id

**처리 로직**:
1. 1번 문장 고정, 2~5번 순서 조정 가능
2. [확인] 버튼 클릭 시 정답 확인
   - **1회 시도**:
     - 정답: [다음] (어휘문제로 이동)
     - 오답: 격려 문구 + [다음] (2회 시도)
   - **2회 시도**:
     - 정답: 축하 문구 + [다음]
     - 오답: 정답 표시 + [다음]

**측정 데이터**:
- elapsed_time
- story_order_attempts (1 or 2)
- story_order_result ('success_first', 'success_second', 'fail')

**비즈니스 규칙**:
- 2회 기회 제공
- 탈락 조건 없음 (최종 오답이어도 진행)

---

#### FR-LESSON-018: 어휘문제 구간
**기능 설명**: 어휘별 문제 풀이  
**우선순위**: High  

**입력 데이터**:
- lesson_id

**처리 로직**:
1. 어휘확인 구간의 어휘 순서대로 문제 출제
   - 어휘당 1문제 (1순위 문제)
2. 한 문제씩 표시
3. 보기 선택 후 다음 문제로 이동
4. 마지막 문제 풀이 완료 시 [종료] 버튼
5. 채점 및 어휘 분류
   - 정답: vocab_learning.status = 'known'
   - 오답: vocab_learning.status = 'unknown'

**측정 데이터**:
- elapsed_time
- correct_count
- total_count

**비즈니스 규칙**:
- 탈락 조건 없음
- 모든 어휘 정답 시 "오늘의 어휘 완료"로 간주 (퀘스트)

---

### 4.3 차시 완료 처리

#### FR-LESSON-019: 차시 성공 처리
**기능 설명**: 모든 구간 통과 시 차시 성공  
**우선순위**: High  

**입력 데이터**:
- attempt_id

**처리 로직**:
1. lesson_attempt 업데이트
   - result = 'success'
   - completed_at = 현재 일시
   - total_elapsed_time = 구간 소요 시간 합산
2. section_result 모든 구간 저장 완료 확인
3. 간이 결과 생성
4. activity_log 업데이트
5. 퀘스트 진행률 업데이트
   - quest_history 생성 (lesson_success)
   - quest_progress.completed_count 증가
6. 추가 활동 생성
   - 오늘의 어휘 (틀린 어휘 있을 시)
   - 오늘의 요약 (자동 생성)

**출력 데이터**:
- 성공 간이 결과

---

#### FR-LESSON-020: 차시 실패 처리
**기능 설명**: 탈락 구간 발생 시 차시 실패  
**우선순위**: High  

**입력 데이터**:
- attempt_id
- fail_reason (탈락 구간)

**처리 로직**:
1. lesson_attempt 업데이트
   - result = 'fail'
   - completed_at = 현재 일시
   - fail_reason 기록
   - total_elapsed_time 합산
2. 진행 완료한 section_result만 저장
3. 간이 결과 생성
4. activity_log 업데이트
5. 자동 패스 확인 (FR-LESSON-004)

**출력 데이터**:
- 실패 간이 결과
- 탈락 구간 정보

---

### 4.4 테라피 기능

#### FR-LESSON-021: 독해 테라피
**기능 설명**: 직전 차시 읽기 실패 시 추가 연습  
**우선순위**: Medium  
**트리거**: 동일 강 직전 차시 지문읽기/다시읽기 연속 실패

**입력 데이터**:
- user_id
- lesson_id

**처리 로직**:
1. 직전 차시 실패 원인 확인
   - 지문읽기 또는 다시읽기 제한 시간 초과
2. 학생 읽기 실패 지문 글자 수 기반 지문 자동 지정
3. [테라피 시작] 클릭 시
   - 제한 시간 3분
   - 읽기 속도 표시 (A단계: 밑줄, B이상: 음영)
   - 자동 스크롤
4. [테라피 종료] 클릭 시 수업 시작

**비즈니스 규칙**:
- 테라피 정지 가능 (초기화 후 재시작)
- 제한 시간 초과해도 종료 가능
- 창 닫기 시 재진입 불가 (권 메인으로 이동)

---

#### FR-LESSON-022: 정독 테라피
**기능 설명**: 직전 차시 문제 실패 시 문제 안내  
**우선순위**: Medium  
**트리거**: 동일 강 직전 차시 문제확인/문제풀이 실패

**입력 데이터**:
- attempt_id (직전 차시)

**처리 로직**:
1. 직전 차시 실패 원인 확인
   - 문제확인: 모르는 문제 개수 초과
   - 문제풀이: 오답/모름 개수 초과
2. 해당 문제 지문 + 안내 문구 표시
3. [시작] 클릭 시 제목읽기 구간으로 이동

**비즈니스 규칙**:
- 수업 시작 전 표시
- 창 닫기 시 재진입 시 다시 표시

---

### 4.5 이어하기 기능

#### FR-LESSON-023: 학습 중단 및 재진입
**기능 설명**: 학습 중단 후 이어하기  
**우선순위**: High  

**처리 로직**:
1. 학습 중 [닫기] 버튼 클릭 시
   - 경고 팝업 표시
   - "학습 완료하지 않으면 일정 시간 후 초기화"
   - [학습 종료] / [취소]
2. 20분 이내 재접속 시
   - 중단 지점부터 이어하기
   - section_result 이어서 저장
3. 20분 초과 재접속 시
   - 차시 이력 초기화
   - 새로운 차시로 시작

**비즈니스 규칙**:
- 20분 기준 적용
- 초기화 시 기존 section_result 삭제

---

#### FR-LESSON-024: 자동 종료
**기능 설명**: 10분 이상 활동 없을 시 자동 종료  
**우선순위**: Medium  

**처리 로직**:
1. 학습 구간에서 10분 이상 활동 없음 감지
2. 알림 팝업 표시
   - "학습이 종료됩니다."
   - [취소] 버튼
3. 5분 이내 [취소] 클릭 안 할 시
   - 자동 종료
   - 타이머 측정 정지
4. [취소] 클릭 시
   - 타이머 재개
   - 학습 계속 진행

---

## 5. 종합 어휘장

### 5.1 어휘 분류 관리

#### FR-VOCAB-001: 어휘 자동 분류
**기능 설명**: 어휘문제 결과에 따른 자동 분류  
**우선순위**: High  
**트리거**: 어휘문제 구간 완료 시

**입력 데이터**:
- user_id
- vocab_id
- is_correct (정답 여부)

**처리 로직**:
1. vocab_learning 테이블 조회
   - 기존 레코드 있으면 업데이트
   - 없으면 신규 생성
2. 정답 여부에 따라 분류
   - 정답: status = 'known', last_correct_at 업데이트
   - 오답: status = 'unknown', last_wrong_at 업데이트
3. total_correct_count 또는 total_wrong_count 증가

**출력 데이터**:
- 분류 완료

---

#### FR-VOCAB-002: 어휘 재분류
**기능 설명**: 어휘 학습 결과에 따른 재분류  
**우선순위**: High  
**트리거**: 오늘의 어휘, 테마 학습 완료 시

**처리 로직**:
1. 어휘 학습 결과 확인
   - 2문제 모두 정답: status = 'known'
   - 1문제 이상 오답: status = 'unknown'
2. vocab_learning 업데이트
3. 통계 업데이트

---

### 5.2 오늘의 어휘

#### FR-VOCAB-003: 오늘의 어휘 생성
**기능 설명**: 강좌 성공 시 틀린 어휘로 오늘의 어휘 자동 생성  
**우선순위**: High  
**트리거**: 차시 성공 + 어휘문제 오답 존재

**입력 데이터**:
- user_id
- lesson_id

**처리 로직**:
1. 해당 강의 어휘문제 결과 확인
2. 오답 어휘가 있는 강만 오늘의 어휘 목록에 추가
3. 최근 성공한 강좌 순으로 정렬
4. 화면에 최대 3개까지 표시

**출력 데이터**:
- 오늘의 어휘 강좌 목록

**비즈니스 규칙**:
- 모든 어휘 정답 시 오늘의 어휘 미생성
- 진행 완료 시 목록에서 제거
- 4개 이상 시 순차적으로 표시

---

#### FR-VOCAB-004: 오늘의 어휘 - 살펴보기
**기능 설명**: 어휘 카드 형태로 표시  
**우선순위**: High  

**입력 데이터**:
- user_id
- lesson_ids (선택한 강좌 목록)

**처리 로직**:
1. 선택한 강좌들의 오답 어휘 조회
2. 어휘 카드 표시 (어휘, 뜻, 예문)
3. 좌우 화살표로 이동
4. 마지막 어휘 확인 시 [다음] 버튼 표시

**출력 데이터**:
- 어휘 카드 목록
- 진행 현황

---

#### FR-VOCAB-005: 오늘의 어휘 - 집중학습
**기능 설명**: 예문 작성  
**우선순위**: Medium  

**입력 데이터**:
- vocab_id

**처리 로직**:
1. 어휘 카드 표시 (어휘, 뜻, 힌트)
2. [힌트 보기] 클릭 시 모범 예문 표시
3. 예문 입력란에 학생이 직접 작성
4. [저장] 클릭 시
   - vocab_learning.student_example 업데이트
   - [수정] 버튼으로 변경
5. [수정] 클릭 시 재편집 가능

**출력 데이터**:
- 예문 저장 완료

---

#### FR-VOCAB-006: 오늘의 어휘 - 문제풀기
**기능 설명**: 어휘별 2문제 풀이 (2순위, 3순위)  
**우선순위**: High  

**입력 데이터**:
- vocab_ids (오답 어휘 목록)

**처리 로직**:
1. 각 어휘당 2문제 출제
   - vocab_problem.priority = 2, 3
   - 랜덤 선택
2. 한 문제씩 표시
3. 보기 선택 후 다음 문제
4. 마지막 문제 완료 시 채점
5. vocab_learning_result 생성
6. 2문제 모두 정답 시 status = 'known'
7. 1문제 이상 오답 시 status = 'unknown'

**출력 데이터**:
- 채점 결과
- 아는 어휘로 이동한 개수

**비즈니스 규칙**:
- 퀘스트 "오늘의 어휘 완료" 반영

---

### 5.3 테마 학습

#### FR-VOCAB-007: 내가 선택한 어휘
**기능 설명**: 학생이 직접 어휘 선택하여 학습  
**우선순위**: Medium  

**입력 데이터**:
- user_id
- vocab_ids (선택한 어휘)

**처리 로직**:
1. [어휘 선택] 버튼 클릭 → 선택 모드
2. 어휘 목록에서 개별 선택 (최대 10개)
3. 선택한 어휘 실시간 표시
4. [학습 시작] 클릭 시 문제풀기 진행
   - 각 어휘당 2문제 (2,3순위)

**출력 데이터**:
- 선택한 어휘 목록

**비즈니스 규칙**:
- 최대 10개, 1개 이상 가능
- 사용 기한 만료 권 어휘 제외

---

#### FR-VOCAB-008: 최근 맞힌 어휘
**기능 설명**: 최근 10개 학습에서 아는 어휘로 이동한 어휘  
**우선순위**: Medium  

**입력 데이터**:
- user_id

**처리 로직**:
1. vocab_learning 조회
   - status = 'known'
   - ORDER BY last_correct_at DESC
   - LIMIT 10
2. 10개 미만 시 [학습 시작] 버튼 비활성화
3. 랜덤 10문제 출제 (각 어휘당 2문제)

**출력 데이터**:
- 출제 가능 어휘 개수

---

#### FR-VOCAB-009: 추천 어휘
**기능 설명**: 최근 맞힌 / 오랫동안 안 본 어휘 제외한 랜덤 추천  
**우선순위**: Low  

**입력 데이터**:
- user_id

**처리 로직**:
1. 추천 대상 어휘 조회
   - 최근 10개 학습 제외
   - 1개월 이상 미진행 어휘 제외
   - 나머지 어휘 중 랜덤 10개
2. 10개 미만 시 [학습 시작] 버튼 비활성화

**출력 데이터**:
- 출제 가능 어휘 개수

---

#### FR-VOCAB-010: 오랫동안 안 본 어휘
**기능 설명**: 1개월 이상 미진행 어휘  
**우선순위**: Medium  

**입력 데이터**:
- user_id

**처리 로직**:
1. vocab_learning 조회
   - last_correct_at 또는 last_wrong_at < 현재 - 1개월
   - 랜덤 10개
2. 10개 미만 시 [학습 시작] 버튼 비활성화

**출력 데이터**:
- 출제 가능 어휘 개수

---

### 5.4 어휘 검색 및 조회

#### FR-VOCAB-011: 아는 어휘 / 모르는 어휘 조회
**기능 설명**: 어휘 목록 조회 및 필터링  
**우선순위**: High  

**입력 데이터**:
- user_id
- status ('known' or 'unknown')
- volume_number (선택)
- lesson_number (선택)
- search_keyword (선택)

**처리 로직**:
1. vocab_learning 조회
   - status 필터
   - volume_number, lesson_number 필터
   - search_keyword: word LIKE '%keyword%'
2. 정렬: 최근 맞힌/틀린 어휘 순
3. 어휘 상태 표시
   - 예문 작성 완료: 연한 파란색 음영
   - 문제 풀이 완료: 진한 파란색 테두리
   - 둘 다 완료: 음영 + 테두리

**출력 데이터**:
- 어휘 목록
- 각 어휘별 상태

---

#### FR-VOCAB-012: 어휘 카드 팝업
**기능 설명**: 어휘 클릭 시 상세 정보 표시  
**우선순위**: Medium  

**입력 데이터**:
- vocab_id

**처리 로직**:
1. vocabulary 정보 조회 (어휘, 뜻)
2. vocab_learning 정보 조회 (학생 작성 예문)
3. 팝업 표시
   - 어휘
   - 뜻
   - 학생 작성 예문 (없으면 안내 문구)

**출력 데이터**:
- 어휘 상세 정보

---

### 5.5 어휘 결과 관리

#### FR-VOCAB-013: 어휘 학습 결과지
**기능 설명**: 어휘 학습 상세 결과 표시  
**우선순위**: Medium  

**입력 데이터**:
- learning_result_id

**처리 로직**:
1. vocab_learning_result 조회
2. 결과 표시
   - 학습 일자
   - 테스트 정보 (오늘의 어휘/테마 학습)
   - 예문 작성: 완료/미완료 게이지
   - 유형별 이해도: 핵심어/사고어/맥락어
   - 문항 분석: 태그별 이해도

**출력 데이터**:
- 상세 결과지
- [출력] 버튼

---

#### FR-VOCAB-014: 종합 결과 조회
**기능 설명**: 전체 어휘 학습 이력 및 통계  
**우선순위**: Low  

**입력 데이터**:
- user_id

**처리 로직**:
1. 전체 어휘 통계
   - 전체 어휘: 아는 어휘 / 모르는 어휘
   - 예문 작성: 작성 완료 / 미작성
   - 문제 풀이: 풀이 완료 / 미완료
2. 학습 이력 목록
   - 학습 일시
   - 구분 (오늘의 어휘/테마 학습)
   - 테스트 정보
   - [결과 보기] 버튼

**출력 데이터**:
- 종합 통계
- 학습 이력 목록

---

## 6. 서술 요약

### 6.1 서술 요약 생성

#### FR-SUMMARY-001: 서술 요약 자동 생성
**기능 설명**: 강좌 성공 시 서술 요약 자동 생성  
**우선순위**: High  
**트리거**: 차시 성공 시

**입력 데이터**:
- user_id
- lesson_id

**처리 로직**:
1. summary 레코드 생성
   - summary_id (UUID)
   - is_completed = false
   - prompt_type (지문 난이도에 따라 4가지 유형)
   - hint, model_answer (관리자 등록 데이터)
2. 오늘의 요약 목록에 추가

**출력 데이터**:
- 서술 요약 생성 완료

---

### 6.2 오늘의 요약

#### FR-SUMMARY-002: 오늘의 요약 목록 조회
**기능 설명**: 최근 성공 강좌 순으로 표시  
**우선순위**: High  

**입력 데이터**:
- user_id

**처리 로직**:
1. summary 조회
   - is_completed = false
   - 최근 학습 완료 일시 순
   - 최대 3개 표시
2. 사용 기한 만료 권 제외

**출력 데이터**:
- 오늘의 요약 강좌 목록

---

#### FR-SUMMARY-003: 서술 요약 작성
**기능 설명**: 학생이 요약 문장 작성  
**우선순위**: High  

**입력 데이터**:
- summary_id
- student_text

**처리 로직**:
1. 지문 정보 표시 (줄거리순서 문장)
2. 발문 표시 (4가지 유형 중 1개)
3. 힌트 표시 (접기/펼치기)
4. 나의 요약 입력란에 작성
5. [확인] 버튼 클릭 시
   - summary.student_text 저장
   - AI 교정 API 호출
   - ai_correction 저장
   - 모범 답안 표시
   - is_completed = true
   - completed_at = 현재 일시

**출력 데이터**:
- 저장 완료
- 모범 답안
- AI 교정 결과

**비즈니스 규칙**:
- 모범 답안 확인 후에도 수정 가능
- 수정 시 AI 교정도 재실행

---

#### FR-SUMMARY-004: AI 교정
**기능 설명**: 학생 작성 요약에 대한 AI 교정  
**우선순위**: Medium  

**입력 데이터**:
- student_text

**처리 로직**:
1. AI API 호출 (외부 서비스)
   - 학생 작성 문장
   - 교정 요청
2. 교정 결과 수신
3. summary.ai_correction 저장

**출력 데이터**:
- AI 교정 결과

---

### 6.3 전체 보기

#### FR-SUMMARY-005: 서술 요약 전체 목록
**기능 설명**: 모든 서술 요약 조회  
**우선순위**: Medium  

**입력 데이터**:
- user_id
- volume_number (선택)
- lesson_number (선택)
- title_keyword (선택)

**처리 로직**:
1. summary 조회
   - 필터 적용
   - 정렬: 학습 완료 일시 순
2. 상태 표시
   - 요약 완료: is_completed = true
   - 요약 대기: is_completed = false
3. 진행률 계산
   - (완료 개수 / 전체 개수) × 100

**출력 데이터**:
- 서술 요약 목록
- 진행률

---

## 7. 퀘스트 시스템

### 7.1 퀘스트 생성 및 관리

#### FR-QUEST-001: 상품 선택
**기능 설명**: 학생이 획득할 상품 선택  
**우선순위**: High  

**입력 데이터**:
- user_id
- product_id

**처리 로직**:
1. quest 레코드 생성
   - quest_id (UUID)
   - status = 'in_progress'
   - selected_at = 현재 일시
2. quest_progress 초기화 (4가지 유형)
   - lesson_success: target_count = 10
   - today_vocab: target_count = 7
   - today_summary: target_count = 7
   - theme_learning: target_count = 5
3. 누적 학습 이력 반영
   - 상품 선택 전 학습 이력 조회
   - 해당하는 퀘스트 타입에 반영

**출력 데이터**:
- 퀘스트 생성 완료
- 선택한 상품 정보

**비즈니스 규칙**:
- 상품 선택 후 변경 불가 (완료 시까지)
- 동일 상품 중복 선택 가능
- 상품 미선택 시에도 학습 이력 누적

---

#### FR-QUEST-002: 퀘스트 진행률 업데이트
**기능 설명**: 학습 활동 완료 시 퀘스트 진행률 증가  
**우선순위**: High  
**트리거**: 학습 활동 완료 시

**입력 데이터**:
- quest_id
- quest_type
- activity_date

**처리 로직**:
1. 중복 카운트 방지
   - 동일 날짜 동일 타입 중복 체크
   - 테마 학습: 같은 날 여러 번 진행해도 1회만 카운트
2. quest_history 생성
3. quest_progress 업데이트
   - completed_count 증가
   - progress_rate = (completed_count / target_count) × 100
4. 100% 초과 시에도 횟수 유지
5. 4가지 퀘스트 모두 100% 확인
   - 모두 100% → 상품 획득 처리

**출력 데이터**:
- 진행률 업데이트 완료

---

#### FR-QUEST-003: 상품 획득
**기능 설명**: 4가지 퀘스트 100% 달성 시 상품 획득  
**우선순위**: High  
**트리거**: 퀘스트 진행률 100% 달성

**입력 데이터**:
- quest_id

**처리 로직**:
1. 4가지 퀘스트 모두 100% 확인
2. 우수 상품 여부 판정
   - quest_history 순차 진행 확인
   - 추가 활동 미루지 않고 진행 시 is_excellent = true
3. quest 업데이트
   - status = 'completed'
   - completed_at = 현재 일시
4. 쿠폰 발급
   - coupon 레코드 생성
   - coupon_type = 'normal' (일반) or 'excellent' (우수)
   - issued_at = 현재 일시
5. notification 생성 (쿠폰 발급 알림)

**출력 데이터**:
- 상품 획득 완료
- 쿠폰 정보

---

#### FR-QUEST-004: 퀘스트 화면 조회
**기능 설명**: 퀘스트 현황 표시  
**우선순위**: Medium  

**입력 데이터**:
- user_id

**처리 로직**:
1. 현재 진행 중인 퀘스트 조회
   - status = 'in_progress'
2. 완료한 퀘스트 조회
   - status = 'completed'
   - 최근 완료 순 정렬
3. 각 퀘스트별 진행률 표시
   - 재료 게이지 (1/3 지점마다 증가)
   - 모무 이미지 (진행 독려)
4. 획득 예정 상품 표시
   - 진행 중인 상품 획득 후 선택 가능

**출력 데이터**:
- 진행 중인 퀘스트 정보
- 완료한 퀘스트 목록

---

#### FR-QUEST-005: 상품 획득 이력
**기능 설명**: 획득한 상품 클릭 시 퀘스트 이력 표시  
**우선순위**: Low  

**입력 데이터**:
- quest_id

**처리 로직**:
1. quest_history 조회
   - 해당 퀘스트의 모든 이력
   - 일자별 정렬
2. 퀘스트 기간 표시
   - 상품 선택 일자 ~ 상품 획득 일자
3. 각 퀘스트별 완료 이력 표시
   - '진행일자 + 완료한 퀘스트'

**출력 데이터**:
- 퀘스트 이력 상세

---

## 8. 알림 시스템

### 8.1 알림 생성

#### FR-NOTI-001: 선물하기 알림
**기능 설명**: 학원장이 포인트 선물 시 알림  
**우선순위**: Medium  
**권한**: 관리자

**입력 데이터**:
- user_id (받는 학생)
- point_amount

**처리 로직**:
1. notification 생성
   - type = 'gift_point'
   - content = "선물 받은 {point_amount}p가 적립되었습니다."
   - is_read = false
2. 즉시 팝업 표시

**출력 데이터**:
- 알림 생성 완료
- 팝업 표시

---

#### FR-NOTI-002: QnA 답변 알림
**기능 설명**: QnA 질문에 답변 생성 시 알림  
**우선순위**: Low  
**트리거**: 관리자가 QnA 답변 등록

**입력 데이터**:
- user_id
- qna_id

**처리 로직**:
1. notification 생성
   - type = 'qna_answer'
   - content = "답변이 도착했습니다."
   - related_id = qna_id
2. 알림 이력에 저장

**출력 데이터**:
- 알림 생성 완료

---

#### FR-NOTI-003: 라이선스 사용 기한 알림
**기능 설명**: 사용 기한 7일 미만 시 알림  
**우선순위**: Medium  
**트리거**: 매일 자동 실행

**처리 로직**:
- FR-LIC-004 참조

---

### 8.2 알림 조회 및 관리

#### FR-NOTI-004: 알림 목록 조회
**기능 설명**: 알림 이력 표시  
**우선순위**: Medium  

**입력 데이터**:
- user_id

**처리 로직**:
1. notification 조회
   - 최근 10개만 표시
   - 생성 일시 내림차순
2. 읽음/안읽음 상태 표시
   - is_read = false: 닫힌 편지 아이콘
   - is_read = true: 열린 편지 아이콘

**출력 데이터**:
- 알림 목록 (최대 10개)

---

#### FR-NOTI-005: 알림 읽음 처리
**기능 설명**: 알림 클릭 시 읽음 처리  
**우선순위**: Low  

**입력 데이터**:
- notification_id

**처리 로직**:
1. notification 업데이트
   - is_read = true
   - read_at = 현재 일시
2. 알림 타입에 따라 이동
   - gift_point: 팝업 표시
   - qna_answer: QnA 글로 이동
   - license_expire: 읽음 처리만

**출력 데이터**:
- 읽음 처리 완료

---

## 9. 결과 및 통계

### 9.1 차시 결과

#### FR-RESULT-001: 간이 결과 생성
**기능 설명**: 차시 완료 시 간이 결과 표시  
**우선순위**: High  

**입력 데이터**:
- attempt_id

**처리 로직**:
1. lesson_attempt 정보 조회
2. section_result 모든 구간 조회
3. 간이 결과 데이터 구성
   - 강 정보 (권, 강, 차시, 성공/실패)
   - 시작 일자
   - 구간별 정보
     - 지문읽기: 소요 시간, 분당 글자 수
     - 문제확인: 소요 시간, 모르는 문제 개수
     - 다시읽기: 소요 시간, 분당 글자 수
     - 문제풀이: 소요 시간, 맞힌 문제 수/출제 수, 모름 개수
     - 정보처리: 소요 시간
     - 줄거리순서: 소요 시간, 성공/실패 (도전 횟수)
     - 어휘문제: 소요 시간, 맞힌 문제 수/출제 수
   - 누적 학습 시간

**출력 데이터**:
- 간이 결과

---

#### FR-RESULT-002: 상세 결과 조회
**기능 설명**: 차시 클릭 시 상세 결과 팝업  
**우선순위**: Medium  

**입력 데이터**:
- attempt_id

**처리 로직**:
1. section_result 상세 데이터 조회
   - section_data JSON 파싱
2. 구간별 세부 정보 표시
   - 신호등 상태
   - 문제별 정오답
   - 핵심어 표시 내역
   - 정보처리 선택 문장
3. [출력] 버튼

**출력 데이터**:
- 상세 결과 팝업

---

### 9.2 권별 종합 결과

#### FR-RESULT-003: 권별 종합 결과
**기능 설명**: 권 단위 누적 결과  
**우선순위**: High  

**입력 데이터**:
- user_id
- license_id

**처리 로직**:
1. 해당 권의 성공한 모든 차시 조회
2. 통계 데이터 계산
   - 총 강좌 수 / 완료 강좌 수
   - 평균 읽기 속도
   - 평균 이해도
   - 구간별 평균 소요 시간
   - 문제 유형별 정답률
3. [출력] 버튼

**출력 데이터**:
- 권별 종합 결과

---

### 9.3 학습 이력

#### FR-RESULT-004: 학습 이력 캘린더
**기능 설명**: 월별 학습 이력 조회  
**우선순위**: Medium  

**입력 데이터**:
- user_id
- year_month

**처리 로직**:
1. activity_log 조회
   - 해당 월의 모든 활동
2. 일자별 아이콘 표시
   - 강좌: 분홍색
   - 종합 어휘장: 노란색
   - 서술 요약: 초록색
   - 같은 학습 여러 번 → 하나의 아이콘
3. 일자 클릭 시 상세 이력 표시
   - 시작 일시 기준
   - 강좌: 성공/실패 차시
   - 종합 어휘장: 오늘의 어휘, 테마 학습
   - 서술 요약: 오늘의 요약

**출력 데이터**:
- 캘린더 형태 이력
- 일자별 상세 이력

---

#### FR-RESULT-005: 최근 활동
**기능 설명**: 메인 화면 최근 활동 표시  
**우선순위**: Low  

**입력 데이터**:
- user_id

**처리 로직**:
1. activity_log 조회
   - 최근 9건
   - 일자 내림차순, 학습 오름차순
2. 간단 정보 표시
   - 일자
   - 학습 유형
   - 강 정보 또는 테마 정보

**출력 데이터**:
- 최근 활동 9건

---

### 9.4 일별/월별 통계

#### FR-RESULT-006: 일별 학습 통계
**기능 설명**: 매일 학습 통계 집계  
**우선순위**: Low  
**트리거**: 매일 자동 실행

**처리 로직**:
1. 전날 학습 데이터 집계
   - 강좌 시도 횟수
   - 강좌 성공 횟수
   - 어휘 학습 횟수
   - 요약 완료 개수
   - 총 학습 시간
2. daily_learning_stats 생성/업데이트

**출력 데이터**:
- 일별 통계 저장 완료

---

## 10. 관리자 기능

### 10.1 학생 관리

#### FR-ADMIN-001: 학생 목록 조회
**기능 설명**: 관리자 학생 목록 조회  
**우선순위**: High  
**권한**: 관리자

**입력 데이터**:
- 검색 조건 (이름, 학년)

**처리 로직**:
1. user 테이블 조회
   - user_type = 'student'
   - 검색 조건 필터
2. 학생별 정보 표시
   - 이름, 학년
   - 부여된 라이선스 개수
   - 최근 학습 일자

**출력 데이터**:
- 학생 목록

---

#### FR-ADMIN-002: 학생 상세 정보
**기능 설명**: 학생 학습 현황 상세 조회  
**우선순위**: Medium  
**권한**: 관리자

**입력 데이터**:
- user_id

**처리 로직**:
1. 라이선스 목록 조회
2. 각 권별 진행률 조회
3. 최근 학습 이력 조회
4. 통계 데이터 조회

**출력 데이터**:
- 학생 상세 정보
- 학습 현황

---

### 10.2 라이선스 관리

#### FR-ADMIN-003: 라이선스 부여
**기능 설명**: 관리자가 학생에게 라이선스 부여  
**우선순위**: High  
**권한**: 관리자

**처리 로직**:
- FR-LIC-001 참조

---

### 10.3 선물하기

#### FR-ADMIN-004: 포인트 선물
**기능 설명**: 학생에게 포인트 선물  
**우선순위**: Low  
**권한**: 관리자

**입력 데이터**:
- user_id
- point_amount

**처리 로직**:
1. 학생 포인트 증가
2. notification 생성 (FR-NOTI-001)

**출력 데이터**:
- 선물 완료

---

### 10.4 교재 관리

#### FR-ADMIN-005: 강좌 등록/수정
**기능 설명**: 강좌 정보 관리  
**우선순위**: Low  
**권한**: 관리자

**입력 데이터**:
- lesson 정보 (제목, 지문, 이미지, 시간 설정)

**처리 로직**:
1. lesson 테이블 삽입/업데이트
2. 관련 vocabulary, vocab_problem 관리

**출력 데이터**:
- 강좌 등록/수정 완료

---

#### FR-ADMIN-006: 어휘 문제 관리
**기능 설명**: 어휘 및 문제 등록  
**우선순위**: Low  
**권한**: 관리자

**입력 데이터**:
- vocabulary 정보
- vocab_problem 정보 (우선순위별 3개)

**처리 로직**:
1. vocabulary 삽입/업데이트
2. vocab_problem 삽입/업데이트
   - priority = 1, 2, 3

**출력 데이터**:
- 어휘 문제 등록 완료

---

## 📚 부록

### A. 에러 코드 정의

| 코드 | 메시지 | 설명 |
|------|--------|------|
| ERR-001 | 권한 없음 | 접근 권한이 없는 사용자 |
| ERR-002 | 라이선스 없음 | 유효한 라이선스가 없음 |
| ERR-003 | 라이선스 만료 | 라이선스 사용 기한 만료 |
| ERR-004 | 순차 진행 위반 | 이전 강이 완료되지 않음 |
| ERR-005 | 중복 차시 | 이미 진행 중인 차시 존재 |
| ERR-006 | 데이터 없음 | 요청한 데이터가 존재하지 않음 |
| ERR-007 | 유효성 검증 실패 | 입력 데이터 형식 오류 |

### B. 상태 코드 정의

#### 라이선스 상태
- `active`: 사용 중
- `completed`: 학습 완료
- `expired`: 기한 만료

#### 차시 결과
- `success`: 성공
- `fail`: 실패
- `in_progress`: 진행 중

#### 어휘 상태
- `known`: 아는 어휘
- `unknown`: 모르는 어휘

#### 퀘스트 상태
- `in_progress`: 진행 중
- `completed`: 완료

---

**문서 변경 이력**
- v1.0 (2025-10-23): 초안 작성

**관련 문서**
- 프로젝트 분석 보고서: `01_프로젝트_분석_보고서.md`
- DB 설계서: `03_DB_설계서.md`
